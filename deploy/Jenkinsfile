properties([pipelineTriggers([[$class: 'GitHubPushTrigger']])z

pipeline{
    agent any
    stages{
        stage ('Source Code'){
            steps{
                dir('code-source'){
                      git branch: 'development', credentialsId: 'treelogy-sandbox-github', url: 'https://github.com/treelogysystem/treelogy-template-lib/'
                 }
            }
          }
          stage('Tests Units') {
              steps {
                  script {
                      sh 'mvn test'
                  }
              }
          }
          stage('Deploy Maven Archetype') {
                steps {
                    script {
                        sh 'mvn deploy'
                    }
                }
            }
    }
}
